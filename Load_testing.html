<!DOCTYPE html>
<html lang="nl">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0C50D9NRQT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0C50D9NRQT');
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Load & Stress Testing &ndash; Mariska van Willigen</title>

    <!-- Meta -->
    <meta name="description" content="Mariska van Willigen &ndash; ">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Social -->
    <meta property="article:author" content="Mariska van Willigen" />
    <meta property="article:section" content="Posts" />
    <meta property="article:published_time" content="2022-04-05" />

    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Load & Stress Testing"/>
    <meta property="og:description" content="Explore the world of Load and Stress Testing: A guide to understanding these vital performance evaluation techniques and the various options available for conducting them."/>
    <meta property="og:site_name" content="Mariska van Willigen" />
    <meta property="og:url" content="https://mariskavanwilligen.github.io/load-&-stress-testing.html"/>

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Load & Stress Testing">
    <meta name="twitter:description" content="Explore the world of Load and Stress Testing: A guide to understanding these vital performance evaluation techniques and the various options available for conducting them.">
    <meta name="twitter:url" content="https://mariskavanwilligen.github.io/load-&-stress-testing.html">

    <!-- Feed -->

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:regular,bold">
    <link rel="stylesheet" type="text/css" href="https://mariskavanwilligen.github.io/theme/css/w3.css">
    <link rel="stylesheet" type="text/css" href="https://mariskavanwilligen.github.io/theme/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://mariskavanwilligen.github.io/theme/css/jqcloud.css">
    <link rel="stylesheet" type="text/css" href="https://mariskavanwilligen.github.io/theme/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://mariskavanwilligen.github.io/theme/css/pygments-highlight-github.css">

    <!-- Icon -->
    <link rel="shortcut icon" href="https://mariskavanwilligen.github.io/images/favicon.ico" />
    <!-- <link rel="shortcut icon" type="image/x-icon" href="https://mariskavanwilligen.github.io/"> -->
    
    

    <!-- JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://mariskavanwilligen.github.io/theme/js/jqcloud.min.js"></script>
  </head>

  <body>
    <div class="w3-row w3-card w3-white">
      <header id="header">
        <a href="https://mariskavanwilligen.github.io" id="header-logo" title="Home">MvW</a>
        <nav id="header-menu">
          <ul>
            <li><a href="https://mariskavanwilligen.github.io/pages/about-me.html">About me</a></li>
            <li><a href="https://mariskavanwilligen.github.io/pages/contact-page.html">Contact</a></li>
          </ul>
        </nav>
      </header>
    </div>



    <br><br><br>

    <article>
      <header class="w3-container col-main">
        <h1>Load & Stress Testing</h1>
        <div class="post-info">
          <div class="w3-opacity w3-margin-right w3-margin-bottom" style="flex-grow: 1;">
            <span><time datetime="2023-09-11T15:10:00+02:00">Tue 11 September 2023</time> in <a href="https://mariskavanwilligen.github.io/category/posts.html" title="All articles in category Posts">Posts</a></span>
          </div>
          <div>
            <span class="w3-tag w3-light-grey w3-text-purple w3-hover-purple">
              <a href="https://mariskavanwilligen.github.io/tag/loadtesting.html" title="All articles with loadtesting tag">#loadtesting</a>
            </span>
            <span class="w3-tag w3-light-grey w3-text-purple w3-hover-purple">
              <a href="https://mariskavanwilligen.github.io/tag/stress.html" title="All articles with Stress tag">#Stress</a>
            </span>
            <span class="w3-tag w3-light-grey w3-text-purple w3-hover-purple">
              <a href="https://mariskavanwilligen.github.io/tag/Locust.html" title="All articles with Locust tag">#Locust</a>
            </span>
            <span class="w3-tag w3-light-grey w3-text-purple w3-hover-purple">
              <a href="https://mariskavanwilligen.github.io/tag/Users.html" title="All articles with Users tag">#Users</a>
            </span>
          </div>
        </div>
      </header>

      <br>


      <div class="col-main w3-container">
        <section id="content">
          <h2 id="context">Introduction</h2>
          <p>With load testing you can get an idea how much RPS (request per second) or concurrent users your API can handle. You can also test if your API meet certain criterion set in your OKR’s.</p>
          <p>We need to perform some load testing to see if our new infrastructure can handle the expected load. We also want to test if we can stay under 5 seconds, which has been set as a goal to achieve in our OKR’s.</p>
          <h2 id="tool-options">Tool options</h2>
          <h3 id="locust">Locust</h3>
          <p>Locust is an easy-to-use, distributed, user load testing tool. It is intended for load-testing web sites (or other systems) and figuring out how many concurrent users a system can handle.</p>
          <p><strong>users</strong> = 100</p>
          <p><strong>spawnrate</strong> = 20</p>
          <p>You can specify the max number of concurrent users and the spawnrate of the users in locust. This means that every second 20 users will spawn untill the maximum of 100 users has been met and then the test will continue with the 100 users. You can also specify a max time duration for your test. </p>
          <p><strong>Pros:</strong></p>
          <ul>
          <li><p>Python-Based: Locust uses Python as its scripting language, easier to integrate.</p>
          </li>
          <li><p>Easy to Learn: Locust&#39;s scripting language is simple and Pythonic</p>
          </li>
          <li><p>Distributed Testing: Locust supports distributed load testing, allowing you to distribute the load across multiple machines for more extensive testing.</p>
          </li>
          <li><p>Real-Time Web Interface: Locust provides a real-time web user interface that displays test progress and results, making it user-friendly. It is also possible to generate rapports in other formats.</p>
          </li>
          </ul>
          <p><strong>Cons:</strong></p>
          <ul>
          <li><p>Resource Intensive: Locust can be more resource-intensive compared to k6 when simulating a high number of users, which might be a concern for large-scale testing.</p>
          </li>
          <li><p>Limited Protocol Support: While Locust primarily focuses on HTTP testing, it may require additional extensions for more advanced protocols.</p>
          </li>
          </ul>
          <p><img alt="" src="/images/testing/locust.png"></p>
          <h3 id="k6">K6</h3>
          <p>k6 is an open-source, developer-centric load testing tool designed for modern applications and microservices.</p>
          <p><strong>Pros:</strong></p>
          <ul>
          <li><p>Efficient: k6 is known for its efficient resource usage, allowing you to simulate a large number of users with relatively low resource consumption.</p>
          </li>
          <li><p>Modern testing approach: k6 is designed for modern performance testing needs, including microservices, APIs, and single-page applications. It supports various protocols like HTTP/1.1, HTTP/2, and WebSocket.</p>
          </li>
          <li><p>Real-time reporting: k6 provides real-time test results and metrics, making it easier to identify performance bottlenecks during testing.</p>
          </li>
          </ul>
          <p><strong>Cons:</strong></p>
          <ul>
          <li><p>Javascript based: Not very straightforward to create test script in Javascript if you don’t have experience with Javascript</p>
          </li>
          <li><p>Limited: While k6 has a growing ecosystem of extensions and plugins, it may not have as extensive a set of integrations as some other tools.</p>
          </li>
          </ul>
          <p><img alt="" src="/images/testing/k6.png"></p>
          <h3 id="taurus-jmeter">Taurus/Jmeter</h3>
          <p>Taurus is an open-source automation testing framework that simplifies the configuration of Apache JMeter tests using YAML files, making it accessible to non-technical users and enabling powerful load testing capabilities with extensive protocol support and scalability.</p>
          <p><strong>Pros:</strong></p>
          <ul>
          <li><p>Different tooling options: Taurus allows you to work with various testing tools, such as JMeter. JMeter is a mature tool with extensive protocol support.</p>
          </li>
          <li><p>YAML Configuration: Taurus uses a YAML-based configuration</p>
          </li>
          <li><p>Distributed Testing: JMeter, which Taurus can utilize, supports distributed testing for scalability.</p>
          </li>
          </ul>
          <p><strong>Cons:</strong></p>
          <ul>
          <li><p>Learning Curve: JMeter can have a steep learning curve, especially for non-technical users. </p>
          </li>
          <li><p>Resource Intensive: JMeter can be resource-intensive, especially when running large-scale tests.</p>
          </li>
          <li><p>Scripting Complexity: Writing complex JMeter test scripts may require Java programming skills.</p>
          </li>
          </ul>
          <p><img alt="" src="/images/testing/taurus.png"></p>
          <h2 id="further-improvements">Further improvements</h2>
          <p>A possible improvement over time could be to make load testing part of the workflow or to deploy on kubernetes. It could be very useful to do a quick load test within a PR to test if a new model or model adjustment is stable enough to handle the load. This can be done by creating a label to deploy to argocd. Two different options can be explored:</p>
          <ul>
          <li><p>Running a locust workflow on github runners. It is possible to run locust without the user interface, but to let it output for example a html or csv report. As a result the report can be automatically shown in the PR.</p>
          </li>
          <li><p>Deploy a locust job to argocd to run load testing in kubernetes to perform distributed load testing.</p>
          </li>
          </ul>
          <p><strong>References:</strong></p>
          <p><a href="https://medium.com/@rico098098/load-testing-with-python-fea13369af43">https://medium.com/@rico098098/load-testing-with-python-fea13369af43</a></p>
          <p><a href="https://medium.com/locust-io-experiments/locust-io-experiments-running-in-kubernetes-95447571a550">https://medium.com/locust-io-experiments/locust-io-experiments-running-in-kubernetes-95447571a550</a></p>
          <p><a href="https://docs.locust.io/en/stable/">https://docs.locust.io/en/stable/</a> </p>
          <p><a href="https://k6.io/docs/">https://k6.io/docs/</a> </p>
          <p><a href="https://gettaurus.org/docs/Index/">https://gettaurus.org/docs/Index/</a></p>
          

        </section>

        <br><br><br>

        <footer>
          <div class="adjust-width">
            <div id="author-block" class="w3-pink w3-border">
              <div id="author-info">
                <a href=""><img style="width: 60px; height: 60px;" src="/images/logo_min.png" onerror="this.src='images/avatar.png'" alt="Avatar"></a>
                <div style="margin-left: 20px; margin-top: 15px;">
                  <a href=""><span id="author-name" class="w3-hover-text-dark-grey">Mariska van Willigen</span></a>
                  <p id="author-story">Hello world! I’m Mariska van Willigen. Machine Learning Engineer for Albert Heijn!</p>
                </div>
              </div>
            </div>
          </div>

          <br><br><br>

          <p style="font-size:10pt; font-style: italic;">Did you like this article? Share it with your friends!</p>
          <div id="share" class="share">
            <a href="http://www.facebook.com/sharer.php?u=https%3A//mariskavanwilligen.github.io/load-&-stress-testing.html&amp;t=Mariska%20van%20Willigen%3A%20Scaling%20Options%20Azure%20Kubernetes%20Service%20%28AKS%29" target="_blank" class="w3-btn w3-indigo">
              <i class="fa fa-facebook"></i> <span>Facebook</span>
            </a>
            <a href="http://twitter.com/share?url=https%3A//mariskavanwilligen.github.io/load-&-stress-testing.html&amp;text=Mariska%20van%20Willigen%3A%20Scaling%20Options%20Azure%20Kubernetes%20Service%20%28AKS%29" target="_blank" class="w3-btn w3-blue">
              <i class="fa fa-twitter"></i> <span>Twitter</span>
            </a>
            <a href="https://plus.google.com/share?url=https%3A//mariskavanwilligen.github.io/load-&-stress-testing.html" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" class="w3-btn w3-red">
              <i class="fa fa-google-plus"></i> <span>Google</span>
            </a>
          </div>

          <br><br><br>



        </footer>
      </div>
    </article>


    <footer id="footer">
      <div id="footer-copyright" class="w3-center w3-small w3-text-grey w3-padding-48">
        <span>&copy;  Mariska van Willigen </span>
      </div>
    </footer>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'G-0C50D9NRQT', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>